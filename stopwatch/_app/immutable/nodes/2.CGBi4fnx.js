var T=Object.defineProperty;var g=(i,t,s)=>t in i?T(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var n=(i,t,s)=>g(i,typeof t!="symbol"?t+"":t,s);import{s as y,n as f,b as j}from"../chunks/scheduler.BvLojk_z.js";import{S as k,i as D,s as $,e as p,b as E,m as x,g as u,h as M,c as v,d as _,f as q,n as w,j as I,k as S,o as O,p as V,l as C}from"../chunks/index.BtaNPvRV.js";import{w as b}from"../chunks/index.BGTSHx9J.js";function K(i){let t,s,o,l=i[1](i[0])+"",h,c,m;return{c(){t=$(),s=p("div"),o=p("div"),h=E(l),this.h()},l(a){x("svelte-1kh3ruq",document.head).forEach(u),t=M(a),s=v(a,"DIV",{class:!0});var r=_(s);o=v(r,"DIV",{class:!0});var d=_(o);h=q(d,l),d.forEach(u),r.forEach(u),this.h()},h(){document.title="Stopwatch",w(o,"class","text-[15vw] tabular-nums font-bold"),w(s,"class","flex justify-center items-center h-screen")},m(a,e){I(a,t,e),I(a,s,e),S(s,o),S(o,h),c||(m=O(window,"keydown",V(i[2])),c=!0)},p(a,[e]){e&1&&l!==(l=a[1](a[0])+"")&&C(h,l)},i:f,o:f,d(a){a&&(u(t),u(s)),c=!1,m()}}}function P(i,t,s){let o;class l{constructor(r){n(this,"totalTime",0);n(this,"startTime",0);n(this,"timeStore",b(0));n(this,"running",!1);n(this,"timerIntervalId",null);n(this,"start",()=>{this.startTime=Date.now(),this.running=!0,this.timerIntervalId=setInterval(this.update,10)});n(this,"stop",()=>{this.running=!1,this.totalTime+=Date.now()-this.startTime,this.startTime=0,this.timerIntervalId!=null&&clearInterval(this.timerIntervalId)});n(this,"startStop",()=>{this.running?this.stop():this.start()});n(this,"reset",()=>{this.running||(this.startTime=0,this.totalTime=0,this.timeStore.set(0),this.timerIntervalId=0)});n(this,"update",()=>{this.timeStore.set(Date.now()-this.startTime+this.totalTime)});this.timeStore=r,console.log("`j` to start/stop, `u` to reset")}}const h=e=>{const r={ms:e%1e3,s:Math.floor(e/1e3)%60,m:Math.floor(e/6e4)%60,h:Math.floor(e/36e5)};return Object.keys(r).forEach(d=>{r[d]=r[d].toString().padStart(2,"0")}),`${r.h}:${r.m}:${r.s}`};function c(e){switch(e.key){case"j":a.startStop();break;case"u":a.reset();break}}let m=b(0);j(i,m,e=>s(0,o=e));const a=new l(m);return[o,h,c,m]}class G extends k{constructor(t){super(),D(this,t,P,K,y,{})}}export{G as component};
